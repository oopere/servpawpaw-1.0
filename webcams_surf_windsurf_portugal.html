<!DOCTYPE HTML>
<html lang="{{ langt }}">

<head>
<meta charset="utf-8">
<link rel='stylesheet' type='text/css'  href='webcame.css'/>
<meta name ='viewport' content="width=device-width, initial-scale=1.0" />
<title>WebCams &raquo; Surf, Windsurf en Portugal</title>
</head>
<body>
<script type="text/javascript"> 

window.onload = loadPage;
var MAX_FAV = 20;
var elementos = 0;
var favoritas = [MAX_FAV];
var favname=[MAX_FAV];
var headerCam;
var zonaCamaras;
var h2Norte;
var h2CentroNorte;
var h2Centro;
var h2CentroSud;
var h2Sud;


function loadPage()
{
	headerCam= document.getElementById('HeaderCam');
	zonaCamaras = document.getElementById('zonaCamaras');
  h2Sud = document.getElementById('Sud');
  h2Sud.addEventListener("click", cargaSud);
  loadwebcamdata();
}
function calcHeight()
{
//find the height of the internal page
         var the_height=document.getElementById('the_iframe').contentWindow.
         document.body.scrollHeight;
//change the height of the iframe
         document.getElementById('the_iframe').height=the_height;
}
function loadwebcamdata()
{
  elementos = MAX_FAV;
  var numCam = 0;
  var nomCam = "";
  do{
    nomCam = 'favorita' + numCam.toString();
    favoritas[numCam] = localStorage.getItem(nomCam)
    numCam ++;
  }while (numCam < MAX_FAV)

  for (n=0;n<MAX_FAV;n++)
  {
    if (favoritas[n] == null) 
      {
        favoritas[n] = "";
        elementos = elementos -1;
      }
  }

  cargarFavoritas();
}
function checkChecks()
{
  var divFavoritas=document.getElementById('favoritas');
	var checkboxes=document.getElementsByTagName('input'); 
	var lCamaras = divFavoritas.getElementsByClassName('camaraContenedor');
  var countCam = 0;
  var check = false;
    for(i=0;i<checkboxes.length;i++)
    {
        if(checkboxes[i].type == "checkbox")
        {      
            check = false;
            countCam = 0;
            do{
              if (checkboxes[i].name === lCamaras[countCam].id){
                check = true;
                break;  
              } 
              countCam++;
            }while (countCam < lCamaras.length);      
            checkboxes[i].checked = check;
        }
    }
}
function cargarFavoritas()
{
	var divFavoritas=document.getElementById('favoritas')
	var htmlFavoritas="";

  for (var countCam = 0; countCam < MAX_FAV; countCam++){
    htmlFavoritas += favoritas[countCam];
  }
	if (htmlFavoritas == "")
	{
		htmlFavoritas = "<h2>{{ textfav }}</h2>";
	}
	divFavoritas.innerHTML = htmlFavoritas;
	checkChecks();
}
</script>
	
<div id="favoritas" class ="favoritas">
</div>
<div id="countries">
	<a href="./webcams?lang={{ lang }}&country=ESP#countries" class="btnCountries" >{{ ESP }}</a>
	<a class="btnCountries, ctrSelected" >{{ POR }}</a>
  <a href="./webcams?lang={{ lang }}&country=ITA#countries" class="btnCountries" >{{ ITA }}</a>
</div>
<div class='contenedor'>
  <a href="#HeaderCam"><h2 id='Sud' class='tittlebtn'>{{ SUD }}</h2></a>
</div>
<div id="titCamaras"><h2 id="HeaderCam" class="tittle"></h2></div>
<div id="zonaCamaras">
</div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- OceanBlog300x250 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-7656070818995137"
     data-ad-slot="6011579401"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</body>
</html>

<script type="text/javascript" async> 
var camaras = {};
var tripLink = {};

function returnCamera(name, buttons)
{
	if (name)
	{
		var camera2Write='<div class="camaraContenedor" id="'+name+'"> ';
		camera2Write += camaras[name];
		if (buttons)
		{
			camera2Write = camera2Write + returnButtons(name);
		}
		camera2Write += '</div>' ;
		return camera2Write;
	}
	return "";
}



function cargaNorte()
{
camaras = {
'martinhalbeach':'MartinhalBeach <br> by <a href="http://www.portugal-webcams.com/webcams/webcam-sagres.html" target="_blank">Portugal Webcams</a></br><img width="300" height="261px" src="http://www.portugal-webcams.com/sagres2/martinhal-qxga.jpg" id="martinhalbeach"></img>',
'roquetas':'Roquetas <br> by <a href="http://www.roquetas-de-mar.es/uk/webcam.asp" target="_blank">Roquetas de Mar</a></br><img width="300" height="261px" src="http://www.roquetas-de-mar.es/upload/video.jpg" id="roquetas"></img>'
}
tripLink = {'martinhalbeach':'http://www.tripadvisor.es/Tourism-g652092-Matosinhos_Porto_District_Northern_Portugal-Vacations.html',
'roquetas':'http://www.anrdoezrs.net/links/5715193/type/dlg/sid/camaras/http://www.tripadvisor.es/Tourism-g644309-Roquetas_de_Mar_Province_of_Almeria_Andalucia-Vacations.html'
}
  var txtHTML = '';  
  txtHTML += returnCamera('martinhalbeach', true);
  txtHTML += returnCamera('praiadaluz', true);
  zonaCamaras.innerHTML = txtHTML;
  headerCam.innerHTML = "Sud";
  checkChecks();
}

function cargaCentroNorte()
{
camaras = {
'martinhalbeach':'MartinhalBeach <br> by <a href="http://www.portugal-webcams.com/webcams/webcam-sagres.html" target="_blank">Martinhalbeach</a></br><img width="300" height="261px" src="http://www.portugal-webcams.com/sagres2/martinhal-qxga.jpg" id="martinhalbeach"></img>',
'praiadaluz':'Praia da Luz <br> by <a href="http://www.roquetas-de-mar.es/uk/webcam.asp" target="_blank">Praia da Luz</a></br><img width="300" height="261px" src="http://www.algarveluzbay.com//webcam/images/oceanvillas.jpg" id="roquetas"></img>'
}
tripLink = {'martinhalbeach':'http://www.tripadvisor.es/Tourism-g652092-Matosinhos_Porto_District_Northern_Portugal-Vacations.html',
'praiadaluz':'http://www.anrdoezrs.net/links/5715193/type/dlg/sid/camaras/http://www.tripadvisor.es/Tourism-g644309-Roquetas_de_Mar_Province_of_Almeria_Andalucia-Vacations.html'
}
  var txtHTML = '';  
  txtHTML += returnCamera('martinhalbeach', true);
  txtHTML += returnCamera('praiadaluz', true);
  zonaCamaras.innerHTML = txtHTML;
  headerCam.innerHTML = "Sud";
  checkChecks();
}

function cargaCentro()
{
camaras = {
'martinhalbeach':'MartinhalBeach <br> by <a href="http://www.portugal-webcams.com/webcams/webcam-sagres.html" target="_blank">Martinhalbeach</a></br><img width="300" height="261px" src="http://www.portugal-webcams.com/sagres2/martinhal-qxga.jpg" id="martinhalbeach"></img>',
'roquetas':'Roquetas <br> by <a href="http://www.roquetas-de-mar.es/uk/webcam.asp" target="_blank">Roquetas de Mar</a></br><img width="300" height="261px" src="http://www.roquetas-de-mar.es/upload/video.jpg" id="roquetas"></img>'
}
tripLink = {'martinhalbeach':'http://www.tripadvisor.es/Tourism-g652092-Matosinhos_Porto_District_Northern_Portugal-Vacations.html',
'roquetas':'http://www.anrdoezrs.net/links/5715193/type/dlg/sid/camaras/http://www.tripadvisor.es/Tourism-g644309-Roquetas_de_Mar_Province_of_Almeria_Andalucia-Vacations.html'
}
  var txtHTML = '';  
  txtHTML += returnCamera('martinhalbeach', true);
  txtHTML += returnCamera('roquetas', true);
  zonaCamaras.innerHTML = txtHTML;
  headerCam.innerHTML = "Sud";
  checkChecks();
}

function cargaCentroSud()
{
camaras = {
'martinhalbeach':'MartinhalBeach <br> by <a href="http://www.portugal-webcams.com/webcams/webcam-sagres.html" target="_blank">Martinhalbeach</a></br><img width="300" height="261px" src="http://www.portugal-webcams.com/sagres2/martinhal-qxga.jpg" id="martinhalbeach"></img>',
'roquetas':'Roquetas <br> by <a href="http://www.roquetas-de-mar.es/uk/webcam.asp" target="_blank">Roquetas de Mar</a></br><img width="300" height="261px" src="http://www.roquetas-de-mar.es/upload/video.jpg" id="roquetas"></img>'
}
tripLink = {'martinhalbeach':'http://www.tripadvisor.es/Tourism-g652092-Matosinhos_Porto_District_Northern_Portugal-Vacations.html',
'roquetas':'http://www.anrdoezrs.net/links/5715193/type/dlg/sid/camaras/http://www.tripadvisor.es/Tourism-g644309-Roquetas_de_Mar_Province_of_Almeria_Andalucia-Vacations.html'
}
  var txtHTML = '';  
  txtHTML += returnCamera('martinhalbeach', true);
  txtHTML += returnCamera('roquetas', true);
  zonaCamaras.innerHTML = txtHTML;
  headerCam.innerHTML = "Sud";
  checkChecks();
}

function cargaSud()
{
camaras = {
'martinhalbeach':'Martinhal Beach <br> by <a href="http://www.portugal-webcams.com/webcams/webcam-sagres.html" target="_blank">Portugal Webcams</a></br><img width="300" height="261px" src="http://www.portugal-webcams.com/sagres2/martinhal-qxga.jpg" id="martinhalbeach"></img>',
'praiadaluz':'Praia da Luz <br> by <a href="http://starvilla.com/" target="_blank">Star Villa</a></br><img width="300" height="261px" src="http://www.algarveluzbay.com//webcam/images/oceanvillas.jpg" id="praiadaluz"></img>',
'lagos':'Lagos <br> by <a href="http://www.vivendamiranda.com/uk/webcamvivendamiranda" target="_blank">Vivenda Miranda</a></br><img width="300" height="261px" src="http://www.vivendamiranda.pt/webcam/webcam-lagos1.jpg" id="lagos"></img>'
}
tripLink = {
'martinhalbeach':'http://ad.zanox.com/ppc/?29016635C1912933367&zpar0=[[camaras]]&ulp=[[http://www.tripadvisor.es/Tourism-g189121-Sagres_Faro_District_Algarve-Vacations.html]]',
'praiadaluz':'http://ad.zanox.com/ppc/?29016635C1912933367&zpar0=[[camaras]]&ulp=[[http://www.tripadvisor.es/Tourism-g189117-Lagos_Faro_District_Algarve-Vacations.html]]',
'lagos':'http://ad.zanox.com/ppc/?29016635C1912933367&zpar0=[[camaras]]&ulp=[[http://www.tripadvisor.es/Tourism-g189117-Lagos_Faro_District_Algarve-Vacations.html]]'
}
  var txtHTML = '';  
  txtHTML += returnCamera('martinhalbeach', true);
  txtHTML += returnCamera('praiadaluz', true);
  txtHTML += returnCamera('lagos', true);
  zonaCamaras.innerHTML = txtHTML;
  headerCam.innerHTML = "{{ SUD }}";
  checkChecks();
}




function handleClick(cb) { 
	var favorita = "";
	var divFavoritas=document.getElementById('favoritas')
	var lCamaras;
   if (cb.checked)
   {
      elementos = elementos + 1;      
   }else{
		elementos = elementos - 1;
		lCamaras = divFavoritas.getElementsByClassName('camaraContenedor');
		for (n = 0; n < MAX_FAV; n++)
		{
			if (cb.name === lCamaras[n].id) 
			{
				favorita = "favorita"+n;
				localStorage.removeItem(favorita);
			}
		}
   }
   //alert(elementos);
   if (elementos <= MAX_FAV)
   {
      if(cb.checked) 
      {   
        for (n=0; n < MAX_FAV; n++)
		{
			favorita="favorita"+n;
			if (localStorage.getItem(favorita) === null) 
			{
				localStorage.setItem(favorita, returnCamera(cb.name, true));
				break;
			}
		}
      }
      //alert ('Modificamos ' + cb.name + 'con:' + cb.checked);
   }else{
      alert('Solo se pueden configurar 20 camaras como favoritas. Desmarca alguna');
      elementos = elementos - 1;
      cb.checked = false;
   }
   if (cb.checked)
   {
      elementos = 0;
      loadwebcamdata();
   }

}
function returnButtons(name)
{
   var buttonsToWrite = "<div class='buttonContenedor'>";
   var linkTripTxt = tripLink[name];
   if (linkTripTxt == null)
  {
    linkTripTxt = 'http://www.anrdoezrs.net/links/5715193/type/dlg/sid/camaras/http://www.tripadvisor.es/'
  }
  buttonsToWrite = buttonsToWrite + " <a href="+ linkTripTxt+ " target = '_blank'> <img src= 'http://www.oceanpawpaw.com/triplogo.png'></img></a>";
   buttonsToWrite = buttonsToWrite + " <br><label><input type='checkbox' name='"+ name +"'"; 
   buttonsToWrite = buttonsToWrite + " onclick='handleClick(this);'>{{ fav }}</label></div>";
   
   return buttonsToWrite;
}

function ChangeCams(name){
   
} 
function ChangeMedia()
{
  var i = 0;
  for (camara in camaras)
  {
    if (document.getElementById(camara) != null)
	{
      ChangeCams(camara);
    }
  }
}

var reloadcam = setInterval("ChangeMedia()",1000000);
</script>